{"ast":null,"code":"import axios from\"axios\";import{setUsername}from\"./usersActions\";export var getNotes=function getNotes(){return function(dispatch,getState){axios.get(\"/notes/allNotes\").then(function(res){dispatch(setListNotes(res.data));}).then(console.log);};};export var addNote=function addNote(){return function(dispatch,getState){var _getState$notesReduce=getState().notesReducer,username=_getState$notesReduce.username,newNote=_getState$notesReduce.newNote;axios.get(\"/notes/addNote?newNote=\".concat(newNote)).then(function(){dispatch(setUsername(username));dispatch(setNewNote(\"\"));dispatch(setId(\"\"));dispatch(getNotes());}).catch(console.log);};};export var deleteNote=function deleteNote(){return function(dispatch,getState){var _id=getState().notesReducer._id;axios.delete(\"/notes/deleteNote/\".concat(_id),{params:{_id:_id}}).then(function(res){dispatch({type:\"DELETE_NOTE\",_id:_id});dispatch(setNewNote(\"\"));dispatch(setId(\"\"));dispatch(getNotes());}).catch(function(err){console.log(err);});};};export var updateNote=function updateNote(){return function(dispatch,getState){var _getState$notesReduce2=getState().notesReducer,_id=_getState$notesReduce2._id,newNote=_getState$notesReduce2.newNote;axios.get(\"/notes/update?id=\".concat(_id,\"&newNote=\").concat(newNote)).then(function(){dispatch(setActionType('Add'));dispatch(setNewNote(''));dispatch(setId(''));dispatch(getNotes());});};};export var setListNotes=function setListNotes(notes){return{type:\"SET_LIST_NOTES\",notes:notes};};export var setId=function setId(_id){return{type:\"SET_ID\",_id:_id};};export var setNewNote=function setNewNote(newNote){return{type:\"SET_NEW_NOTE\",newNote:newNote};};export var setActionType=function setActionType(actionType){return{type:'SET_ACTION_TYPE',actionType:actionType};};","map":{"version":3,"sources":["/home/angelo/Desktop/internetappanddesign/hw3-stephcurry3/src/redux/actions/notesActions.js"],"names":["axios","setUsername","getNotes","dispatch","getState","get","then","res","setListNotes","data","console","log","addNote","notesReducer","username","newNote","setNewNote","setId","catch","deleteNote","_id","delete","params","type","err","updateNote","setActionType","notes","actionType"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { setUsername } from \"./usersActions\";\r\n\r\nexport const getNotes = () => (dispatch, getState) => {\r\n    axios\r\n        .get(`/notes/allNotes`)\r\n        .then(res => {\r\n            dispatch(setListNotes(res.data));\r\n        })\r\n        .then(console.log);\r\n};\r\n\r\nexport const addNote = () => (dispatch, getState) => {\r\n    const { username,newNote } = getState().notesReducer;\r\n  \r\n    axios\r\n        .get(`/notes/addNote?newNote=${newNote}`)\r\n        .then(() => {\r\n            dispatch(setUsername(username))\r\n            dispatch(setNewNote(\"\"));\r\n            dispatch(setId(\"\"));\r\n            dispatch(getNotes());\r\n        })\r\n        .catch(console.log);\r\n};\r\n\r\nexport const deleteNote = () => (dispatch, getState) => {\r\n    const { _id } = getState().notesReducer;\r\n    axios\r\n        .delete(`/notes/deleteNote/${_id}`, { params: { _id: _id } })\r\n        .then(res => {\r\n            dispatch({\r\n                type: \"DELETE_NOTE\",\r\n                _id\r\n            });\r\n            dispatch(setNewNote(\"\"));\r\n            dispatch(setId(\"\"));\r\n            dispatch(getNotes());\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const updateNote = () => (dispatch,getState) =>{\r\n    const {_id,newNote} = getState().notesReducer\r\n    axios.get(`/notes/update?id=${_id}&newNote=${newNote}`)\r\n    .then(()=>{\r\n        dispatch(setActionType('Add'))\r\n        dispatch(setNewNote(''))\r\n        dispatch(setId(''))\r\n        dispatch(getNotes())\r\n    })\r\n}\r\n\r\nexport const setListNotes = notes => ({\r\n    type: \"SET_LIST_NOTES\",\r\n    notes\r\n});\r\n\r\nexport const setId = _id => ({\r\n    type: \"SET_ID\",\r\n    _id\r\n});\r\n\r\nexport const setNewNote = newNote => ({\r\n    type: \"SET_NEW_NOTE\",\r\n    newNote\r\n});\r\n\r\nexport const setActionType = (actionType) =>({\r\n    type: 'SET_ACTION_TYPE',\r\n    actionType,\r\n})\r\n"]},"metadata":{},"sourceType":"module"}